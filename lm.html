<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Love Meter - Between Us</title>

  <style>
    *{
      margin:0;
      padding:0;
      box-sizing:border-box;
      font-family: 'Georgia', serif;
    }

    body{
      min-height:100vh;
      background: linear-gradient(180deg, #f4d6dc 0%, #e9bfc9 40%, #d9a3a0 75%, #c08b7f 100%);
      color:#2a1416;
    }

    /* ---------- NAV ---------- */
    .nav{
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding:18px 32px;
      background: rgba(255,255,255,0.55);
      backdrop-filter: blur(12px);
      border-bottom:1px solid rgba(200,150,150,0.25);
    }

    .nav h1{
      font-size:1.4rem;
      font-weight:normal;
    }

    .nav-links{
      display:flex;
      gap:20px;
    }

    .nav-links button{
      background:none;
      border:none;
      color:#3a1c1f;
      font-size:0.95rem;
      cursor:pointer;
      opacity:0.75;
    }

    .nav-links button:hover{
      opacity:1;
      text-decoration:underline;
    }

    /* ---------- CAROUSEL ---------- */
    .carousel{
      width:100%;
      height:260px;
      overflow:hidden;
      position:relative;
    }

    .carousel img{
      width:100%;
      height:260px;
      object-fit:cover;
      position:absolute;
      opacity:0;
      transition:opacity 1.2s ease;
    }

    .carousel img.active{
      opacity:1;
    }

    /* ---------- CONTENT ---------- */
    .content{
      max-width:1100px;
      margin:auto;
      padding:45px 28px;
    }

    .intro{
      text-align:center;
      margin-bottom:45px;
    }

    .intro h2{
      font-size:1.6rem;
      margin-bottom:10px;
      font-weight:normal;
    }

    .intro p{
      font-size:0.95rem;
      opacity:0.75;
    }

    /* ---------- LOVE METER ---------- */
    .meter-container{
      display:flex;
      justify-content:center;
      margin:40px 0;
    }

    .meter-wrapper{
      position:relative;
      width:360px;
      height:180px;
    }

    .days-text{
      position:absolute;
      top:50%;
      left:50%;
      transform:translate(-50%, -50%);
      font-size:1.4rem;
      font-weight:bold;
      text-align:center;
    }

    .heart{
      font-size:12px;
      color:#c77d87;
      opacity:0;
      transition:opacity 0.3s ease, transform 0.3s ease;
      position:absolute;
      user-select:none;
    }

    .heart.empty{
      color:#f1c7cd;
      opacity:1;
    }

    /* ---------- CARDS ---------- */
    .cards{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(230px,1fr));
      gap:26px;
      margin-top:40px;
    }

    .card{
      background: rgba(255,255,255,0.6);
      backdrop-filter: blur(14px);
      border-radius:22px;
      padding:26px 24px;
      border:1px solid rgba(210,160,160,0.25);
      transition:transform 0.25s ease, box-shadow 0.25s ease;
      cursor:pointer;
    }

    .card:hover{
      transform:translateY(-6px);
      box-shadow:0 18px 35px rgba(120,60,60,0.25);
    }

    .card h3{
      font-size:1.15rem;
      margin-bottom:10px;
      font-weight:normal;
    }

    .card p{
      font-size:0.9rem;
      line-height:1.6;
      opacity:0.8;
    }

    footer{
      margin-top:60px;
      text-align:center;
      font-size:0.8rem;
      opacity:0.6;
    }
  </style>
</head>
<body>

  <!-- NAVIGATION -->
  <div class="nav">
    <h1>Between Us</h1>
    <div class="nav-links">
      <button onclick="window.location.href='main.html'">Home</button>
      <button onclick="window.location.href='memories.html'">Memories</button>
      <button onclick="window.location.href='study.html'">Study</button>
      <button onclick="window.location.href='poetry.html'">Poems</button>
      <button onclick="window.location.href='lm.html'">Love Meter</button>
    </div>
  </div>

  <!-- CAROUSEL -->
  <div class="carousel">
    <img src="img1.jpeg" class="active" />
    <img src="img2.jpeg" />
    <img src="img6.jpeg" />
  </div>

  <!-- CONTENT -->
  <div class="content">
    <div class="intro">
      <h2>Our Love Meter</h2>
      <p>Each day fills a tiny heart.Each day Counts.</p>
    </div>

    <!-- SEMICIRCULAR METER -->
    <div class="meter-container">
      <div class="meter-wrapper" id="meterWrapper">
        <div class="days-text" id="daysText">0 days</div>
      </div>
    </div>

    <div class="cards">
      <div class="card" onclick="window.location.href='memories.html'">
        <h3>Memories</h3>
        <p>A gentle archive of photos, words, and moments that deserve to stay.</p>
      </div>

      <div class="card" onclick="window.location.href='study.html'">
        <h3>Study Dock</h3>
        <p>Different goals, same effort. A quiet check-in for honest days.</p>
      </div>

      <div class="card" onclick="window.location.href='poetry.html'">
        <h3>Poetry</h3>
        <p>When feelings need language â€” written slowly, kept safely.</p>
      </div>

      <div class="card" onclick="window.location.href='tree.html'">
        <h3>Year of Hearts</h3>
        <p>Growing patiently with time, care, and days survived together.</p>
      </div>
    </div>

    <footer>
      growing gently ðŸŒ±
    </footer>
  </div>

  <script>
    // ---------- CAROUSEL ----------
    const images = document.querySelectorAll('.carousel img');
    let index = 0;
    setInterval(() => {
      images[index].classList.remove('active');
      index = (index + 1) % images.length;
      images[index].classList.add('active');
    }, 4000);

    // ---------- LOVE METER ----------
    const startDate = new Date('2022-10-23');
    const totalYearDays = 365;
    const meterWrapper = document.getElementById('meterWrapper');
    const daysText = document.getElementById('daysText');

    function createHearts(){
      const radius = 140;
      const centerX = 180;
      const centerY = 180;
      const slotCount = totalYearDays;
      const today = new Date();
      const diff = today - startDate;
      const daysTogether = Math.floor(diff / (1000*60*60*24));
      daysText.textContent = daysTogether + " days";

      const hearts = [];

      // Create all hearts (empty and filled)
      for(let i=0;i<slotCount;i++){
        const angle = Math.PI - i*(Math.PI/(slotCount-1));
        const x = centerX + radius * Math.cos(angle);
        const y = centerY - radius * Math.sin(angle);

        const heart = document.createElement('div');
        heart.classList.add('heart');
        heart.textContent = "â¤";
        heart.style.left = x + 'px';
        heart.style.top = y + 'px';

        if(i >= (daysTogether % totalYearDays)){
          heart.classList.add('empty'); // empty slot
        }

        meterWrapper.appendChild(heart);
        hearts.push(heart);
      }

      // Animate filled hearts slower
      let fillCount = daysTogether % totalYearDays;
      hearts.forEach((heart, idx)=>{
        if(idx < fillCount){
          setTimeout(()=>{
            heart.style.opacity = 1;
            heart.style.transform = "scale(1.3)";
            setTimeout(()=>heart.style.transform="scale(1)",150);
          }, idx*50); // slower animation (50ms per heart)
        }
      });
    }

    createHearts();
  </script>

</body>
</html>
